<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoFRTS Deep Link Tester</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .platform-selector {
            display: flex;
            background: #f8f9fa;
            padding: 20px;
            gap: 10px;
        }

        .platform-btn {
            flex: 1;
            padding: 15px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            font-size: 16px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .platform-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .platform-btn.active {
            background: #667eea;
            color: white;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-description {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .link-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .link-card:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .link-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #333;
        }

        .link-card p {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .link-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .link-btn {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }

        .link-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .link-btn.secondary {
            background: #764ba2;
        }

        .link-btn.secondary:hover {
            background: #653a8d;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin-top: 10px;
            overflow-x: auto;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            background: #667eea;
            color: white;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }

        .badge.ios {
            background: #007aff;
        }

        .badge.android {
            background: #3ddc84;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .info-box h4 {
            color: #1976d2;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .info-box p {
            color: #555;
            font-size: 14px;
            line-height: 1.6;
        }

        .copy-btn {
            background: #4caf50;
            margin-left: 10px;
        }

        .copy-btn:hover {
            background: #45a049;
        }

        .emoji {
            font-size: 24px;
        }

        @media (max-width: 600px) {
            .link-buttons {
                flex-direction: column;
            }
            
            .platform-selector {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ”— GoFRTS Deep Link Tester</h1>
            <p>Test all deep linking scenarios for iOS and Android</p>
        </div>

     

        <div class="content">
            <!-- Instructions -->
            <div class="info-box">
                <h4>ðŸ“‹ How to Use This Tester</h4>
                <p>
                    <strong>On Device/Simulator:</strong> Click the buttons below to test deep links.<br>
                    <strong>Custom URL Schemes:</strong> Work immediately (gofrts://open)<br>
                    <strong>Tip:</strong> Open this file in Safari (iOS) or Chrome (Android) for best results.<br>
                    <strong>Note:</strong> These are app-only deep links that require the GoFRTS app to be installed.
                </p>
            </div>

            <!-- Profile Screen -->
            <div class="section">
                <div class="section-title">
                    <span class="emoji">ðŸ‘¤</span>
                    Profile Screen
                    <span class="badge">Ready</span>
                </div>
                <div class="section-description">
                    Opens the user profile screen. Used for bank account management and profile updates.
                </div>

                <div class="link-card">
                    <h3>Profile Screen <span class="badge ios">iOS</span><span class="badge android">Android</span></h3>
                    <p>Opens profile screen immediately</p>
                    <div class="link-buttons">
                        <a href="gofrts://open/profile" class="link-btn">
                            ðŸš€ Open Profile
                        </a>
                        <button onclick="copyToClipboard('gofrts://open/profile')" class="link-btn copy-btn">
                            ðŸ“‹ Copy Link
                        </button>
                    </div>
                    <div class="code-block">gofrts://open/profile</div>
                </div>
            </div>

            <!-- Job Details Screen -->
            <div class="section">
                <div class="section-title">
                    <span class="emoji">ðŸ“¦</span>
                    Job Details Screen
                    <span class="badge">Ready</span>
                </div>
                <div class="section-description">
                    Opens a specific job details page. Used for job viewing, payment return, and notifications.
                </div>

                <div class="input-group">
                    <label for="jobId">Enter Job ID:</label>
                    <input type="number" id="jobId" placeholder="e.g., 123" value="123" min="1">
                </div>

                <div class="link-card">
                    <h3>Job Details with ID <span class="badge ios">iOS</span><span class="badge android">Android</span></h3>
                    <p>Opens job details with job ID parameter</p>
                    <div class="link-buttons">
                        <a href="gofrts://open/job/99" class="link-btn">

                        <!-- <button onclick="openJobCustom()" class="link-btn"> -->
                            ðŸš€ Open Job Details
                        </button>
                        <button onclick="copyJobCustom()" class="link-btn copy-btn">
                            ðŸ“‹ Copy Link
                        </button>
                    </div>
                    <div class="code-block" id="jobCustomUrl">gofrts://open/job/123</div>
                </div>

                <div class="link-card">
                    <h3>Quick Test Jobs</h3>
                    <p>Pre-configured job IDs for quick testing</p>
                    <div class="link-buttons">
                        <a href="gofrts://open/job/99" class="link-btn">Job #99</a>
                        <a href="gofrts://open/job/100" class="link-btn">Job #100</a>
                    </div>
                </div>
            </div>

            <!-- Create Job Screen -->
            <div class="section">
                <div class="section-title">
                    <span class="emoji">âž•</span>
                    Create Job Screen
                    <span class="badge">Ready</span>
                </div>
                <div class="section-description">
                    Opens the create job screen. Used after payment completion or direct job creation.
                </div>

                <div class="link-card">
                    <h3>Create Job Screen <span class="badge ios">iOS</span><span class="badge android">Android</span></h3>
                    <p>Opens create job screen immediately</p>
                    <div class="link-buttons">
                        <a href="gofrts://open/createjob" class="link-btn">
                            ðŸš€ Create Job
                        </a>
                        <button onclick="copyToClipboard('gofrts://open/createjob')" class="link-btn copy-btn">
                            ðŸ“‹ Copy Link
                        </button>
                    </div>
                    <div class="code-block">gofrts://open/createjob</div>
                </div>
            </div>

            <!-- Advanced Testing -->
            <div class="section">
                <div class="section-title">
                    <span class="emoji">ðŸ§ª</span>
                    Advanced Testing
                </div>

                <div class="link-card">
                    <h3>Payment Success Flow</h3>
                    <p>Simulate return from successful payment</p>
                    <div class="link-buttons">
                        <button onclick="openJobWithPaymentSuccess()" class="link-btn">
                            ðŸ’° Job + Payment Success
                        </button>
                    </div>
                    <div class="code-block" id="paymentSuccessUrl">gofrts://open/job/123?paymentSuccess=true</div>
                </div>

                <div class="link-card">
                    <h3>Alternative URL Formats</h3>
                    <p>Test backward compatibility with old formats</p>
                    <div class="link-buttons">
                        <a href="gofrts://open/profilescreen" class="link-btn">ProfileScreen</a>
                        <a href="gofrts://open/jobdetails/123" class="link-btn">Job Details</a>
                        <a href="gofrts://open/jobdetailsscreen/123" class="link-btn">Job Details Screen</a>
                        <a href="gofrts://open/createjobscreen" class="link-btn">CreateJobScreen</a>
                    </div>
                </div>
            </div>

            <!-- Terminal Commands -->
            <div class="section">
                <div class="section-title">
                    <span class="emoji">ðŸ’»</span>
                    Terminal Commands
                </div>
                <div class="section-description">
                    Use these commands to test deep links from your development machine
                </div>

                <div class="link-card">
                    <h3>iOS Simulator</h3>
                    <div class="code-block">
# Open profile
xcrun simctl openurl booted "gofrts://open/profile"

# Open job details
xcrun simctl openurl booted "gofrts://open/job/123"

# Open create job
xcrun simctl openurl booted "gofrts://open/createjob"

# Test with payment success
xcrun simctl openurl booted "gofrts://open/job/123?paymentSuccess=true"
                    </div>
                </div>

                <div class="link-card">
                    <h3>Android Emulator/Device</h3>
                    <div class="code-block">
# Open profile
adb shell am start -W -a android.intent.action.VIEW -d "gofrts://open/profile"

# Open job details
adb shell am start -W -a android.intent.action.VIEW -d "gofrts://open/job/123"

# Open create job
adb shell am start -W -a android.intent.action.VIEW -d "gofrts://open/createjob"

# Test with payment success
adb shell am start -W -a android.intent.action.VIEW -d "gofrts://open/job/123?paymentSuccess=true"
                    </div>
                </div>
            </div>

            <!-- QR Codes Section -->
            <div class="section">
                <div class="section-title">
                    <span class="emoji">ðŸ“±</span>
                    QR Code Testing
                </div>
                <div class="section-description">
                    Scan these QR codes with your phone camera to test deep links
                </div>

                <div class="link-card">
                    <h3>Generate QR Code</h3>
                    <p>Paste any deep link URL to generate a QR code</p>
                    <div class="input-group">
                        <input type="text" id="qrUrl" placeholder="e.g., gofrts://open/job/123" value="gofrts://open/profile">
                    </div>
                    <div class="link-buttons">
                        <button onclick="generateQR()" class="link-btn">
                            ðŸ”² Generate QR Code
                        </button>
                    </div>
                    <div id="qrcode" style="margin-top: 20px; text-align: center;"></div>
                </div>
            </div>

            <!-- Status Info -->
            <div class="info-box" style="background: #f3e5f5; border-left-color: #9c27b0;">
                <h4>âœ… Implementation Status</h4>
                <p>
                    <strong>Deep Links:</strong> âœ… Ready to test now (gofrts://open)<br>
                    <strong>All Screens:</strong> âœ… Profile, Job Details, Create Job<br>
                    <strong>Parameter Passing:</strong> âœ… Job IDs, payment flags, timestamps<br>
                    <strong>Compatibility:</strong> âœ… iOS and Android
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script>
        // Update job URLs when input changes
        document.getElementById('jobId').addEventListener('input', function() {
            const jobId = this.value || '123';
            document.getElementById('jobCustomUrl').textContent = `gofrts://open/job/${jobId}`;
            document.getElementById('paymentSuccessUrl').textContent = `gofrts://open/job/${jobId}?paymentSuccess=true`;
        });

        function openJobCustom() {
            const jobId = document.getElementById('jobId').value || '123';
            const url = `gofrts://open/job/${jobId}`;
            
            // iOS Safari requires creating an anchor element and clicking it
            const link = document.createElement('a');
            link.href = url;
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function copyJobCustom() {
            const jobId = document.getElementById('jobId').value || '123';
            copyToClipboard(`gofrts://open/job/${jobId}`);
        }

        function openJobWithPaymentSuccess() {
            const jobId = document.getElementById('jobId').value || '123';
            const url = `gofrts://open/job/${jobId}?paymentSuccess=true`;
            
            // iOS Safari requires creating an anchor element and clicking it
            const link = document.createElement('a');
            link.href = url;
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('âœ… Copied to clipboard: ' + text);
            }).catch(() => {
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('âœ… Copied to clipboard: ' + text);
            });
        }

        function showPlatform(platform) {
            // Update button states
            document.getElementById('btn-both').classList.remove('active');
            document.getElementById('btn-ios').classList.remove('active');
            document.getElementById('btn-android').classList.remove('active');
            document.getElementById('btn-' + platform).classList.add('active');

            // Could add platform-specific filtering here if needed
            console.log('Showing platform:', platform);
        }

        function generateQR() {
            const url = document.getElementById('qrUrl').value;
            const qrContainer = document.getElementById('qrcode');
            
            // Clear previous QR code
            qrContainer.innerHTML = '';
            
            if (!url) {
                alert('Please enter a URL');
                return;
            }

            try {
                new QRCode(qrContainer, {
                    text: url,
                    width: 256,
                    height: 256,
                    colorDark: "#667eea",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });

                // Add URL text below QR code
                const urlText = document.createElement('p');
                urlText.textContent = url;
                urlText.style.marginTop = '10px';
                urlText.style.color = '#666';
                urlText.style.fontSize = '12px';
                urlText.style.wordBreak = 'break-all';
                qrContainer.appendChild(urlText);
            } catch (error) {
                qrContainer.innerHTML = '<p style="color: red;">Error generating QR code. Make sure the URL is valid.</p>';
            }
        }

        // Log page load
        console.log('ðŸ”— GoFRTS Deep Link Tester loaded');
        console.log('ðŸ“± Open this page on your device/simulator to test deep links');
    </script>
</body>
</html>

